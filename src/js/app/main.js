"use strict";function showElement(e,t,s){$(e).addClass("show"),$(t).css("color",s)}function removeElement(e,t){$(e).removeClass("show"),$(t).css("color","#fff")}function showOptionsRule(e,t,s,o,c,a,i,n,r,l){$("#select").hasClass(e)&&($(n).removeClass(l),setTimeout((function(){$("#select").removeClass(e),$(i).add(n).removeClass(r)}),220)),$("#select").hasClass(t)?($(o).removeClass(a),setTimeout((function(){$("#select").removeClass(t),$(s).add(o).removeClass(c)}),220)):($("#select").addClass(t),$(s).add(o).show(),setTimeout((function(){$(s).addClass(c)}),5),setTimeout((function(){$(o).addClass(c)}),100),setTimeout((function(){$(o).addClass(a)}),250))}function selectRuleAndHideOption(e,t,s,o){$("#".concat(e)).prop("checked",!0),$(".".concat(e)).triggerHandler("click"),$(t).hasClass(s)&&$(o).triggerHandler("click")}function hideChoice(e,t,s){".welcom"==e&&($(e).css("top","-20%"),$(".confirm-name").css("top","75%"),$("#name").css("top","50%"),$(".you").css("top","15%"),$(e).attr("data-check","false")),$(e).css("top","-20%"),$(t).add(s).css("top","0"),$(e).attr("data-check","false")}function showChoice(e,t){$(t).text(e),$(t).css({top:"50%"}),$(t).attr("data-check","true"),".choose-difficultis"==t&&$(".difficultis .choose").add(".easy, .medium, .hard").css("top","40vh"),".choose-rule"==t&&$(".rules .choose").add(".simple").add(".bonus").css("top","40vh"),".welcom"==t&&$("#name").add(".you, .confirm-name").css("top","115%")}function checkForm(){$("*[data-check='false']").length>0?$(".go").css("top","-18vw"):$(".go").css("top","0")}function animateFight(){$("img[alt='".concat(newGame.enemy.choice,"']"),".weapon-enemy").attr("src","./src/image/".concat(newGame.enemy.choice,"Color.svg")),$("img[alt='".concat(newGame.enemy.choice,"']"),".weapon-enemy").addClass("select"),$("img[alt='".concat(newGame.enemy.choice,"']"),".enemy-select").addClass("fight"),setTimeout((function(){$(".result-wraper").css("top","0")}),1e3),setTimeout((function(){$(".result-wraper").css("top","-40%"),$("img[alt='".concat(newGame.enemy.choice,"']"),".weapon-enemy").removeClass("select"),$("img[alt='".concat(newGame.enemy.choice,"']"),".enemy-select").removeClass("fight"),$("img[alt='".concat(gamer.choice,"']"),".weapon-player").removeClass("select"),$("img[alt='".concat(gamer.choice,"']"),".player-select").removeClass("fight"),$("img[alt='".concat(newGame.enemy.choice,"']"),".weapon-enemy").attr("src","./src/image/".concat(newGame.enemy.choice,".svg")),$("img[alt='".concat(gamer.choice,"']"),".weapon-player").attr("src","./src/image/".concat(gamer.choice,".svg")),setTimeout(winSelebrati(),2e3)}),2e3)}function winSelebrati(){0!=gamer.win||0!=gamer.losing?($(".left-section").css("width","".concat(gamer.win/gamer.totalGame*100,"vw")),$(".right-section").css("width","".concat(gamer.losing/gamer.totalGame*100,"vw"))):($(".left-section").css("width","50vw"),$(".right-section").css("width","50vw"))}function showResult(e,t){e<.2?$(".result").text("Draw"):e<t?$(".result").text("You win"):$(".result").text("You lose")}function showStatistics(){0!=gamer.totalGame||0==gamer.totalGame&&gamer.darw>0?setTimeout((function(){$(".win").text(gamer.win),$(".lose").text(gamer.losing)}),2200):($(".win").text("W"),$(".lose").text("L"))}function showRuleDificultAndName(){var e;e=5==Object.keys(newGame.rules).length?"bonus rules: rock,paper,scissors,spock,lizzard":"simple rules: rock,paper,scissors",$(".player").text("Player:".concat(gamer.name," ")),$(".stat-dificlt").text("Select dificult: ".concat(newGame.difficulties)),$(".stat-rules").text(e)}function showSelectRule(){5==Object.keys(newGame.rules).length?($(".select-simple").hide(),$(".select-bonus").show()):($(".select-simple").show(),$(".select-bonus").hide())}function necessaryWeapon(){5==Object.keys(newGame.rules).length?$(".weapon img[alt='spock']").add(".weapon img[alt='lizard']").show():$(".weapon img[alt='spock']").add(".weapon img[alt='lizard']").hide()}$("#rock").hover((function(){showElement(".rock","#rock","green")}),(function(){removeElement(".rock","#rock")})),$("#paper").hover((function(){showElement(".paper","#paper","gold")}),(function(){removeElement(".paper","#paper")})),$("#scissors").hover((function(){showElement(".scissors","#scissors","royalblue")}),(function(){removeElement(".scissors","#scissors")})),$(".btn").click((function(){showElement(".rock","#rock","green"),showElement(".paper","#paper","gold"),showElement(".scissors","#scissors","royalblue"),$("h1").css("color","#FF69B4"),$("main").show(),setTimeout((function(){$(".line").show(),$(".line").animate({height:"300vh"},300),$("header").animate({top:"-100vh"},300,(function(){$("main").add("section").css("top","-100vh")}))}),400),setTimeout((function(){$(".line").hide(),$(".settings").css("transform","translate(-50%,-50%)")}),1450)})),$(".confirm-name").click((function(e){e.preventDefault(),""==$.trim($("#name").val())?($("#name").css("left","54%"),setTimeout((function(){$("#name").css("left","46%")}),300),setTimeout((function(){$("#name").css("left","50%")}),600),$(".welcom").attr("data-check","false"),checkForm()):(showChoice("Welcome to the game ".concat($("#name").val(),"!"),".welcom"),checkForm())})),$(".welcom").click((function(){hideChoice(".welcom"),checkForm()})),$(".simple").click((function(e){e.preventDefault(),showOptionsRule("move-form-up","move-form-down",".simple-rules",".icon-left","show-simple-rule","show-simpl-icon",".bonus-rules",".icon-right","show-bonus-rule","show-bonus-icon")})),$(".bonus").click((function(e){e.preventDefault(),showOptionsRule("move-form-down","move-form-up",".bonus-rules",".icon-right","show-bonus-rule","show-bonus-icon",".simple-rules",".icon-left","show-simple-rule","show-simpl-icon")})),$(".simple-btn").click((function(e){e.preventDefault(),selectRuleAndHideOption("simple",".bonus-rules","show-bonus-rule",".bonus"),showChoice("You choose simple rules",".choose-rule"),checkForm()})),$(".bonus-btn").click((function(e){e.preventDefault(),selectRuleAndHideOption("bonus",".simple-rules","show-simple-rule",".simple"),showChoice("You choose bonus rules",".choose-rule"),checkForm()})),$(".choose-rule").click((function(){hideChoice(".choose-rule",".rules .choose",".simple ,.bonus "),checkForm()})),$(".easy").click((function(e){e.preventDefault(),$("#easy").prop("checked",!0),showChoice("You choose easy difficultis",".choose-difficultis"),checkForm()})),$(".medium").click((function(e){e.preventDefault(),$("#medium").prop("checked",!0),showChoice("You choose medium difficultis",".choose-difficultis"),checkForm()})),$(".hard").click((function(e){e.preventDefault(),$("#hard").prop("checked",!0),showChoice("You choose hard difficultis",".choose-difficultis"),checkForm()})),$(".choose-difficultis").click((function(){hideChoice(".choose-difficultis",".difficultis .choose",".easy, .medium, .hard"),checkForm()})),$("#ok").click((function(e){e.preventDefault(),makeGameData(),$(".settings").css("transform","translate(-50%, -300%)"),$("section").show(),setTimeout((function(){$("section").css("transform","translateY(-100vh)")}),800),showRuleDificultAndName(),showSelectRule()})),("ontouchstart"in window==0||window.DocumentTouch&&document instanceof DocumentTouch==0)&&$(".show-rules").hover((function(){"false"==$(".show-rules").attr("data-open")&&$(".show-rules").addClass("hover")}),(function(){"false"==$(".show-rules").attr("data-open")&&$(".show-rules").removeClass("hover")})),$(".show-rules h2").click((function(){$(".show-rules").removeClass("hover"),"false"==$(".show-rules").attr("data-open")?($(".show-rules").addClass("show"),$(".show-rules").attr("data-open",!0)):($(".show-rules").removeClass("show"),$(".show-rules").attr("data-open",!1))})),$("img",".weapon-player").hover((function(e){$("img[alt=".concat(e.target.alt,"]"),".weapon-player").attr("src","./src/image/".concat(e.target.alt,"Color.svg"))}),(function(e){0==$("img[alt=".concat(e.target.alt,"]"),".weapon-player").hasClass("select")&&$("img[alt=".concat(e.target.alt,"]"),".weapon-player").attr("src","./src/image/".concat(e.target.alt,".svg"))})),$("img",".weapon-player").click((function(e){$(".show-rules").removeClass("show"),$(".show-rules").attr("data-open",!1),0==$("img",".weapon-player").filter(".select").length&&($("img[alt=".concat(e.target.alt,"]"),".weapon-player").addClass("select"),$("img[alt=".concat(e.target.alt,"]"),".weapon-player").attr("src","./src/image/".concat(e.target.alt,"Color.svg")),playerChoice(e.target.alt),$("img[alt=".concat(e.target.alt,"]"),".player-select").addClass("fight"),enemyChoiceAndStartBattle())})),$("#no").click((function(e){e.preventDefault,$(".show-rules").removeClass("show")})),$("#yes").click((function(e){e.preventDefault,$(".show-rules").attr("data-open",!1),$(".show-rules").removeClass("show"),$(".choose-rule").triggerHandler("click"),$(".choose-difficultis").triggerHandler("click"),setTimeout((function(){$(".left-section").css("width","50vw"),$(".right-section").css("width","50vw")}),1500),$(".welcom").add(".choose-rule,choose-difficultis").triggerHandler("click"),showStatistics(),setTimeout((function(){$("section").css("transform","translateY(100vh)")}),500),setTimeout((function(){$(".settings").css("transform","translate(-50%, -50%)")}),1200)})),$("input[type='text']").focusin((function(){size(viewport)})),$("input[type='text']").focusout((function(){setTimeout((function(){viewport.setAttribute("content","width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, maximum-scale=1.0")}),200)}));var viewport=document.querySelector("meta[name=viewport]");function size(e){var t=$(window).height(),s=$(window).width();e.setAttribute("content","height="+t+"px, width="+s+"px, initial-scale=1.0, user-scalable=no, maximum-scale=1.0")}var gamer,newGame,game={rules:{simple:{rock:"scissors",paper:"rock",scissors:"paper"},bonus:{rock:["scissors","lizard"],paper:["rock","spock"],scissors:["paper","lizard"],lizard:["spock","paper"],spock:["rock","scissors"]},enemySimple:{SimpleOptions:["rock","paper","scissors"]},enemyBonus:{BonusOptions:["rock","paper","scissors","lizard","spock"]},difficulty:{easy:.8,medium:.65,hard:.5}}};function CreateGame(e,t,s){this.rules=game.rules[e],this.enemy=t,this.difficulties=s}function CreatePlayer(e){this.name=e,this.totalGame=0,this.win=0,this.losing=0,this.draw=0,this.choice=void 0}function makeGameData(){starGame(getUserSettings()),necessaryWeapon(),showStatistics()}function getUserSettings(){var e=$("#select").serializeArray(),t={};return e.forEach((function(e){t[e.name]=e.value})),t.enemy="simple"==t.rules?game.rules.enemySimple:game.rules.enemyBonus,t}function starGame(e){gamer=new CreatePlayer(e.name),newGame=new CreateGame(e.rules,e.enemy,e.difficultis)}function playerChoice(e){gamer.choice=e}function enemyChoiceAndStartBattle(){prepareForBattle(Math.random())}function prepareForBattle(e){switch(newGame.difficulties){case"easy":battleCalculation(e,game.rules.difficulty.easy);break;case"medium":battleCalculation(e,game.rules.difficulty.medium);break;default:battleCalculation(e,game.rules.difficulty.hard)}showStatistics()}function battleCalculation(e,t){e<.2?(gamer.draw++,newGame.enemy.choice=gamer.choice):e<t?(gamer.win++,gamer.totalGame++,5!=Object.keys(newGame.rules).length?newGame.enemy.choice=newGame.rules["".concat(gamer.choice)]:newGame.enemy.choice=newGame.rules["".concat(gamer.choice)][Math.floor(Math.random()*newGame.rules["".concat(gamer.choice)].length)]):(gamer.losing++,gamer.totalGame++,5!=Object.keys(newGame.rules).length?newGame.enemy.choice=Object.keys(newGame.rules).filter((function(e){return e!=gamer.choice&&newGame.rules[e]==gamer.choice})):newGame.enemy.choice=Object.keys(newGame.rules).filter((function(e){return newGame.rules[e].some((function(e){return e==gamer.choice}))}))[Math.floor(2*Math.random())]),animateFight(),showResult(e,t)}